<html
  xmlns:py="http://genshi.edgewall.org/"
  py:with="color = cycler(*'first second third fourth fifth'.split())"
  py:strip="">

  <div py:def="box(node)" class="box ${color.next()}">
    <py:for each="child in node">
      <py:choose test="isinstance(child, basestring)">
        <p py:when="True"><strong>${child}</strong></p>
        <py:when test="False">
          ${box(child)}
        </py:when>
      </py:choose>
    </py:for>
    <p>${node.name}</p>
  </div>

  ${box(ast)}
</html>
